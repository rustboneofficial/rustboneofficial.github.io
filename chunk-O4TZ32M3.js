import{d as at,e as D,f as lt}from"./chunk-ICX6GANS.js";import{a as ct,b as pt}from"./chunk-XMZEG4KL.js";import{$a as et,Ba as s,Ca as U,Fb as ot,Gb as L,Hb as E,Ia as p,Kb as rt,Lb as k,Ma as u,Na as g,Nb as A,Oa as R,Pa as b,S as J,Tb as V,Ub as H,Va as n,Vb as st,Wa as o,Wb as W,X as tt,Xa as C,Y as P,Ya as y,Za as f,_a as d,a as I,aa as S,ab as nt,b as N,bb as it,cb as a,db as _,e as T,eb as M,gb as w,hb as $,ia as v,ja as x,jb as Z,ka as G,la as K,pa as F,ra as Y,va as B}from"./chunk-W24EJRHD.js";function ut(r,m){if(r&1&&(n(0,"span",16),a(1),o()),r&2){let t=d().$implicit;s(),M("[",t.timestamp,"]")}}function ft(r,m){r&1&&(n(0,"span",17),a(1,"\u2588"),o())}function Ct(r,m){if(r&1&&(n(0,"div",12),u(1,ut,2,1,"span",13),n(2,"span",14),a(3),o(),u(4,ft,2,0,"span",15),o()),r&2){let t=m.$implicit;b("typing",t.isTyping)("complete",t.isComplete)("error",t.isError),s(),g("ngIf",!t.isError),s(2),_(t.displayText),s(),g("ngIf",t.isTyping)}}function _t(r,m){if(r&1&&(n(0,"div",31)(1,"span",32),a(2,"\u2717"),o(),n(3,"span",33),a(4),o()()),r&2){let t=d(2);s(4),_(t.authError())}}function vt(r,m){if(r&1){let t=y();n(0,"div",18)(1,"div",19)(2,"div",20)(3,"span",21),a(4,"\u26A0"),o(),n(5,"span",22),a(6,"WORKER IDENTIFICATION REQUIRED"),o()(),n(7,"div",23)(8,"div",24)(9,"label",25),a(10,"WORKER NAME:"),o(),n(11,"input",26),f("input",function(e){v(t);let c=d();return x(c.onWorkerNameChange(e))})("keyup.enter",function(){v(t);let e=d();return x(e.onWorkerNameSubmit())}),o()(),u(12,_t,5,1,"div",27),n(13,"div",28)(14,"button",29),f("click",function(){v(t);let e=d();return x(e.onWorkerNameSubmit())}),a(15," REGISTER WORKER "),o()()(),n(16,"div",30)(17,"small"),a(18,"Sistema de Identificaci\xF3n Industrial RUSTBONE v0.0.1"),o(),n(19,"small"),a(20,"Todos los trabajadores deben registrarse antes del turno"),o()()()()}if(r&2){let t=d();s(11),g("value",t.workerName()),s(),g("ngIf",t.authError()),s(2),g("disabled",!t.workerName().trim())}}function xt(r,m){if(r&1&&(n(0,"div",34)(1,"div",35),a(2,"SYSTEM INITIALIZATION"),o(),n(3,"div",36),C(4,"div",37),o(),n(5,"div",38),a(6),o()()),r&2){let t=d();s(4),R("width",t.progressValue(),"%"),s(2),M("",t.progressValue(),"% COMPLETE")}}function Mt(r,m){if(r&1){let t=y();n(0,"div",39),f("click",function(){v(t);let e=d();return x(e.onContinue())}),n(1,"span",40),a(2,"ACCESS GRANTED - PRESS ANY KEY TO CONTINUE"),o(),n(3,"span",41),a(4,"_"),o()()}}var gt=(()=>{class r{constructor(t){this.platformId=t,this.hapticService=P(D),this.storageService=P(V),this.workerService=P(ct),this.bootCompleted=F(),this.bootComplete=p(!1),this.bootMessages=p([]),this.progressValue=p(0),this.showProgress=p(!1),this.showGlitch=p(!1),this.showContinuePrompt=p(!1),this.showWorkerAuth=p(!1),this.workerName=p(""),this.workerProfile=p(null),this.authError=p(""),this.currentMessageIndex=0,this.isFirstBoot=!0,this.systemMessages=["[ 0.000000] RUSTBONE Industrial OS 2.4.7-zone1 starting...","[ 0.001247] Command line: BOOT_IMAGE=/vmlinuz ro root=/dev/sda1 quiet","[ 0.002891] DMI: RUSTBONE Corp RB-T1/Industrial Board, BIOS 2.4.7 01/15/2387","[ 0.004123] Memory BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable","[ 0.005894] Zone ranges: DMA32 [mem 0x00001000-0xffffffff]","[ 0.007234] Movable zone start for each node","[ 0.008765] Early memory node ranges","[ 0.010123] Initmem setup node 0 [mem 0x00001000-0xbffeffff]","[ 0.012458] CPU: Quad-Core AMD Ryzen-R7 (8 CPUs)","[ 0.014892] Performance Events: PMU not available due to virtualization","[ 0.016234] x86: Booting SMP configuration","[ 0.017891] smp: Bringing up secondary CPUs ...","[ 0.019456] smp: Brought up 1 node, 8 CPUs","[ 0.020987] devtmpfs: initialized","[ 0.022345] RTC time: 23:47:12, date: 01/26/87","[ 0.024892] Memory: 16384MB total, 15892MB available","[ 0.026234] Kernel command line: BOOT_IMAGE=/vmlinuz ro root=/dev/sda1","[ 0.028456] Dentry cache hash table entries: 2097152 (order: 12, 16777216 bytes)","[ 0.030891] Mount-cache hash table entries: 32768 (order: 6, 262144 bytes)","[ 0.032567] CPU0: Thermal monitoring enabled (TM1)","[ 0.034123] process: using mwait in idle threads","[ 0.035789] Last level iTLB entries: 4KB 1024, 2MB 1024, 4MB 512","[ 0.037456] Last level dTLB entries: 4KB 2048, 2MB 1024, 4MB 1024, 1GB 0","[ 0.038291] Storage: SSD 512GB SATA [OK]","[ 0.040123] SCSI subsystem initialized","[ 0.041789] libata version 3.00 loaded.","[ 0.043456] ACPI: bus type USB registered","[ 0.045123] usbcore: registered new interface driver usbfs","[ 0.046789] usbcore: registered new interface driver hub","[ 0.048456] usbcore: registered new device driver usb","[ 0.050123] PCI: Using configuration type 1 for base access","[ 0.051789] PCI: Using configuration type 1 for extended access","[ 0.053456] NetLabel: Initializing","[ 0.054733] Network: Ethernet link up (Zone-1 Backbone)","[ 0.056789] NET: Registered protocol family 2","[ 0.058456] TCP established hash table entries: 131072 (order: 8, 1048576 bytes)","[ 0.060123] TCP bind hash table entries: 65536 (order: 7, 524288 bytes)","[ 0.061789] TCP: Hash tables configured (established 131072 bind 65536)","[ 0.063456] UDP hash table entries: 8192 (order: 5, 131072 bytes)","[ 0.065123] UDP-Lite hash table entries: 8192 (order: 5, 131072 bytes)","[ 0.066789] NET: Registered protocol family 1","[ 0.067821] Thermal: Core temp 67\xB0C [NOMINAL]","[ 0.069891] RPC: Registered named UNIX socket transport module.","[ 0.071456] RPC: Registered udp transport module.","[ 0.073123] RPC: Registered tcp transport module.","[ 0.074789] PCI: CLS 0 bytes, default 64","[ 0.076456] Trying to unpack rootfs image as initramfs...","[ 0.078123] Freeing initrd memory: 22528K","[ 0.079789] audit: initializing netlink subsys (disabled)","[ 0.081456] audit: type=2000 audit(1643235047.079:1): initialized","[ 0.083947] GPIO: Industrial I/O pins initialized","[ 0.085123] HugeTLB registered 1 GB page size, pre-allocated 0 pages","[ 0.086789] HugeTLB registered 2 MB page size, pre-allocated 0 pages","[ 0.088456] VFS: Disk quotas dquot_6.6.0","[ 0.090123] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)","[ 0.091789] FS-Cache: Loaded","[ 0.093456] CacheFiles: Loaded","[ 0.095123] Key type big_key registered","[ 0.096789] alg: No test for stdrng (krng)","[ 0.098273] USB: 4 ports available, 2 devices detected","[ 0.100456] Block layer SCSI generic (bsg) driver version 0.4 loaded","[ 0.102123] io scheduler noop registered","[ 0.103789] io scheduler deadline registered (default)","[ 0.105456] io scheduler cfq registered","[ 0.107123] io scheduler mq-deadline registered","[ 0.108789] io scheduler kyber registered","[ 0.110456] Serial: 8250/16550 driver, 32 ports, IRQ sharing enabled","[ 0.112589] Audio: Terminal speakers [OK]","[ 0.114123] Console: colour VGA+ 80x25","[ 0.115789] console [tty0] enabled","[ 0.117456] console [ttyS0] enabled","[ 0.119123] ACPI: Power Button [PWRB]","[ 0.120789] ACPI: Sleep Button [SLPB]","[ 0.122456] GHES: HEST is not enabled!","[ 0.124123] Serial: AMBA PL011 UART driver","[ 0.125789] Non-volatile memory driver v1.3","[ 0.127456] Linux agpgart interface v0.103","[ 0.128394] Video: 1920x1080@60Hz industrial display","[ 0.130789] ACPI: AC Adapter [ADP1] (on-line)","[ 0.132456] input: Power Button as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00/input/input0","[ 0.134123] ACPI: Power Button [PWRB]","[ 0.135789] input: Sleep Button as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0E:00/input/input1","[ 0.137456] ACPI: Sleep Button [SLPB]","[ 0.139123] ACPI: Video Device [GFX0] (multi-head: yes  rom: no  post: no)","[ 0.140789] ACPI: Video Device [VGA] (multi-head: yes  rom: no  post: no)","[ 0.142456] input: Video Bus as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/LNXVIDEO:00/input/input2","[ 0.144123] input: Video Bus as /devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/device:03/LNXVIDEO:01/input/input3","[ 0.145792] Security: Hardware crypto engine loaded","[ 0.147456] AMD-Vi: AMD IOMMUv2 driver loading","[ 0.149123] AMD-Vi: AMD IOMMUv2 functionality not available on this system","[ 0.150789] Kernel unaligned access emulation enabled","[ 0.152456] Registering SWP/SWPB emulation handler","[ 0.154123] registered taskstats version 1","[ 0.155789] Loading compiled-in X.509 certificates","[ 0.157456] zswap: default zpool zbud not available","[ 0.159123] zswap: pool creation failed","[ 0.160789] AppArmor: AppArmor sha1 policy hashing enabled","[ 0.162456] ima: No TPM chip found, activating TPM-bypass!","[ 0.164123] ima: Allocated hash algorithm: sha1","[ 0.165789] evm: HMAC attrs: 0x1","[ 0.167329] Filesystem: /home /var /tmp mounted [OK]","[ 0.169456] EXT4-fs (sda1): mounted filesystem with ordered data mode","[ 0.171123] VFS: Mounted root (ext4 filesystem) readonly on device 8:1.","[ 0.172789] devtmpfs: mounted","[ 0.174456] Freeing unused kernel memory: 1504K","[ 0.176123] Write protecting the kernel read-only data: 18432k","[ 0.177789] Freeing unused kernel memory: 2016K","[ 0.179456] Freeing unused kernel memory: 1980K","[ 0.181123] x86/mm: Checked W+X mappings: passed, no W+X pages found.","[ 0.182789] x86/mm: Checking user space page tables","[ 0.184456] x86/mm: Checked W+X mappings: passed, no W+X pages found.","[ 0.186123] Run /sbin/init as init process","[ 0.187789] systemd[1]: systemd 245.4-4ubuntu3.15 running in system mode.","[ 0.189473] Network services starting...","[ 0.191456] systemd[1]: Detected architecture x86-64.","[ 0.193123] systemd[1]: Set hostname to <rustbone-terminal-t1>.","[ 0.194789] systemd[1]: Created slice system.slice.","[ 0.196456] systemd[1]: Created slice User and Session Slice.","[ 0.198123] systemd[1]: Started Dispatch Password Requests to Console Directory Watch.","[ 0.199789] systemd[1]: Started Forward Password Requests to Wall Directory Watch.","[ 0.201456] systemd[1]: Reached target Paths.","[ 0.203123] systemd[1]: Listening on Syslog Socket.","[ 0.203847] SSH daemon started [PID 1247]","[ 0.205789] systemd[1]: Listening on udev Control Socket.","[ 0.207456] systemd[1]: Listening on Network Service Netlink Socket.","[ 0.209123] systemd[1]: Reached target Sockets.","[ 0.210789] systemd[1]: Reached target Basic System.","[ 0.212456] systemd[1]: Starting LSB: Load kernel modules...","[ 0.214123] systemd[1]: Starting Nameserver information manager...","[ 0.215789] systemd[1]: Starting Network Name Resolution...","[ 0.217456] systemd[1]: Starting User Manager for UID 126...","[ 0.218593] Zone-1 monitoring agent started [PID 1251]","[ 0.220789] systemd[1]: Starting Journal Service...","[ 0.222456] systemd[1]: Starting udev Kernel Manager...","[ 0.224123] systemd[1]: Started Journal Service.","[ 0.225789] systemd-modules-load[1248]: Inserted module ppdev","[ 0.227456] systemd-modules-load[1248]: Inserted module lp","[ 0.229123] systemd-modules-load[1248]: Inserted module parport_pc","[ 0.230789] systemd[1]: Started LSB: Load kernel modules.","[ 0.232456] systemd[1]: Starting udev Coldplug all Devices...","[ 0.234123] systemd[1]: Starting Load Kernel Modules...","[ 0.234792] Worker authentication service [PID 1256]","[ 0.236789] systemd[1]: Started Load Kernel Modules.","[ 0.238456] systemd[1]: Starting Apply Kernel Variables...","[ 0.240123] systemd[1]: Started Apply Kernel Variables.","[ 0.241789] systemd[1]: Starting udev Kernel Device Manager...","[ 0.243456] systemd[1]: Started udev Coldplug all Devices.","[ 0.245123] systemd[1]: Started User Manager for UID 126.","[ 0.246789] systemd[1]: Starting Network Time Synchronization...","[ 0.248456] systemd[1]: Started udev Kernel Device Manager.","[ 0.250183] System fully operational","","RUSTBONE INDUSTRIAL TERMINAL v0.0.1","Zone 1 - Manufacturing Sector Alpha-7","Terminal ID: T1-4A7B-9D2C-XF91","Hardware Rev: RB-T1-2387.01.15","Industrial Controller: ONLINE","Safety Monitoring: ACTIVE","Environmental Systems: NOMINAL","","Initializing biometric scanner...","Loading worker database...","Checking shift schedules...","Verifying security clearances...","","Ready for worker authentication.",""],this.isBrowser=A(this.platformId)}ngOnInit(){this.isBrowser&&this.checkWorkerProfile()}ngOnDestroy(){this.typingInterval&&clearInterval(this.typingInterval),this.bootTimeout&&clearTimeout(this.bootTimeout)}trackByMessage(t,i){return i.id}checkWorkerProfile(){let t=this.storageService.getWorkerProfile();t?(this.isFirstBoot=!1,this.workerProfile.set(t),this.startSystemBoot()):(this.isFirstBoot=!0,this.startFirstTimeBoot())}startFirstTimeBoot(){this.rapidSystemBoot()}startSystemBoot(){this.hapticService.trigger("boot");let t=["[ 0.000000] RUSTBONE Industrial OS 2.4.7-zone1 starting...","[ 0.000000] Linux version 5.15.0-rustbone (build@industrial-zone1) (gcc version 11.3.0)","[ 0.000000] Command line: BOOT_IMAGE=/vmlinuz-5.15.0 root=/dev/sda1 ro quiet splash","[ 0.000000] x86/fpu: Supporting XSAVE feature 0x001: 'x87 floating point registers'","[ 0.000000] x86/fpu: Supporting XSAVE feature 0x002: 'SSE registers'","[ 0.000000] x86/fpu: Supporting XSAVE feature 0x004: 'AVX registers'","[ 0.000000] x86/fpu: xstate_offset[2]: 576, xstate_sizes[2]: 256","[ 0.000000] BIOS-provided physical RAM map:","[ 0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable","[ 0.000000] BIOS-e820: [mem 0x00000000fec00000-0x00000000fec00fff] reserved","[ 0.012458] NX (Execute Disable) protection: active","[ 0.012458] SMBIOS 3.2 present.","[ 0.012458] DMI: RUSTBONE Industrial Systems/Zone1-Mainboard, BIOS 2.4.7 11/15/2025","[ 0.012892] tsc: Fast TSC calibration using PIT","[ 0.013124] tsc: Detected 3600.125 MHz processor","[ 0.015678] CPU: Quad-Core AMD Ryzen-R7 (8 CPUs)","[ 0.018234] Performance Events: AMD PMU driver.","[ 0.021567] Last level iTLB entries: 4KB 1024, 2MB 1024, 4MB 512","[ 0.021567] Last level dTLB entries: 4KB 1536, 2MB 1536, 4MB 768, 1GB 0","[ 0.024892] Freeing SMP alternatives memory: 32K","[ 0.027891] Memory: 16384MB total, 15892MB available","[ 0.031245] Checking aperture...","[ 0.033456] No AGP bridge found","[ 0.036789] PCI: Using configuration type 1 for base access","[ 0.042134] HugeTLB registered 2.00 MiB page size, pre-allocated 0 pages","[ 0.045678] ACPI: Added _OSI(Module Device)","[ 0.048234] ACPI: Added _OSI(Processor Device)","[ 0.051234] ACPI: Added _OSI(3.0 _SCP Extensions)","[ 0.054733] ACPI: Interpreter enabled","[ 0.058123] ACPI: (supports S0 S3 S4 S5)","[ 0.062456] ACPI: Using IOAPIC for interrupt routing","[ 0.067891] PCI: Using host bridge windows from ACPI","[ 0.073245] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])","[ 0.078901] pci 0000:00:00.0: [8086:1237] type 00 class 0x060000","[ 0.084567] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100","[ 0.091234] pci 0000:00:02.0: [1234:1111] type 00 class 0x030000","[ 0.098456] SCSI subsystem initialized","[ 0.103789] usbcore: registered new interface driver usbfs","[ 0.109123] usbcore: registered new interface driver hub","[ 0.115678] NetLabel: Initializing","[ 0.121234] NetLabel: domain hash size = 128","[ 0.127891] NetLabel: protocols = UNLABELED CIPSOv4 CALIPSO","[ 0.134567] PCI: Using ACPI for IRQ routing","[ 0.142891] clocksource: Switched to clocksource tsc","[ 0.151234] NET: Registered protocol family 2","[ 0.158901] tcp_listen_portaddr_hash hash table entries: 4096","[ 0.167329] TCP established hash table entries: 65536","[ 0.175678] Network: Initializing Zone-1 Backbone interface...","[ 0.184123] Network: Ethernet link up (Zone-1 Backbone)","[ 0.192456] IPv4: 10.1.20.0/24 configured on eth0","[ 0.201789] VFS: Disk quotas dquot_6.6.0","[ 0.211234] Initializing XFRM netlink socket","[ 0.221567] Block layer SCSI generic (bsg) driver version 0.4","[ 0.232891] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled","[ 0.243234] 00:04: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A","[ 0.250183] Filesystem: Checking /dev/sda1...","[ 0.258456] EXT4-fs (sda1): mounted filesystem with ordered data mode","[ 0.267891] Filesystem: /home mounted [OK]","[ 0.276234] Filesystem: /var mounted [OK]","[ 0.285678] Filesystem: /tmp mounted [OK]","[ 0.295123] systemd[1]: systemd 248 running (RUSTBONE INDUSTRIAL BUILD)","[ 0.305567] systemd[1]: Detected architecture x86-64.","[ 0.316891] systemd[1]: Set hostname to <rustbone-zone1-terminal>.","[ 0.328234] systemd[1]: Reached target Local File Systems.","[ 0.339678] systemd[1]: Starting Industrial Zone Monitor Service...","[ 0.351123] systemd[1]: Started D-Bus System Message Bus.","[ 0.362567] Zone1Monitor: Connecting to central supervisor...","[ 0.374891] Zone1Monitor: Connection established [OK]","[ 0.387234] System fully operational","","RUSTBONE Industrial OS 2.4.7-zone1","zone1-terminal login: "+(this.workerProfile()?.name||"worker").toLowerCase(),"Password: ********","Last login: "+new Date().toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",year:"numeric"}),"","Welcome back, "+(this.workerProfile()?.name||"Worker")];this.showFastBootSequence(t)}rapidSystemBoot(){this.hapticService.trigger("boot");let t=["[ 0.000000] RUSTBONE Industrial OS 2.4.7-zone1 starting...","[ 0.001247] Command line: BOOT_IMAGE=/vmlinuz ro root=/dev/sda1 quiet","[ 0.002891] DMI: RUSTBONE Corp RB-T1/Industrial Board, BIOS 2.4.7 01/15/2387","[ 0.012458] CPU: Quad-Core AMD Ryzen-R7 (8 CPUs)","[ 0.015678] Performance Events: AMD PMU driver.","[ 0.024892] Memory: 16384MB total, 15892MB available","[ 0.027891] Checking aperture...","[ 0.033456] No AGP bridge found","[ 0.036789] PCI: Using configuration type 1 for base access","[ 0.042134] HugeTLB registered 2.00 MiB page size, pre-allocated 0 pages","[ 0.048234] ACPI: Interpreter enabled","[ 0.054733] ACPI: (supports S0 S3 S4 S5)","[ 0.062456] ACPI: Using IOAPIC for interrupt routing","[ 0.073245] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])","[ 0.084567] pci 0000:00:01.0: [8086:7000] type 00 class 0x060100","[ 0.098456] SCSI subsystem initialized","[ 0.103789] usbcore: registered new interface driver usbfs","[ 0.115678] NetLabel: Initializing","[ 0.134567] PCI: Using ACPI for IRQ routing","[ 0.151234] NET: Registered protocol family 2","[ 0.167329] TCP established hash table entries: 65536","[ 0.175678] Network: Initializing Zone-1 Backbone interface...","[ 0.184123] Network: Ethernet link up (Zone-1 Backbone)","[ 0.192456] IPv4: 10.1.20.0/24 configured on eth0","[ 0.221567] Block layer SCSI generic (bsg) driver version 0.4","[ 0.232891] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled","[ 0.250183] Filesystem: Checking /dev/sda1...","[ 0.258456] EXT4-fs (sda1): mounted filesystem with ordered data mode","[ 0.267891] Filesystem: /home mounted [OK]","[ 0.276234] Filesystem: /var mounted [OK]","[ 0.285678] Filesystem: /tmp mounted [OK]","[ 0.295123] systemd[1]: systemd 248 running (RUSTBONE INDUSTRIAL BUILD)","[ 0.305567] systemd[1]: Detected architecture x86-64.","[ 0.316891] systemd[1]: Set hostname to <rustbone-zone1-terminal>.","[ 0.328234] systemd[1]: Reached target Local File Systems.","[ 0.339678] systemd[1]: Starting Industrial Zone Monitor Service...","[ 0.351123] systemd[1]: Started D-Bus System Message Bus.","[ 0.362567] Zone1Monitor: Connecting to central supervisor...","[ 0.374891] Zone1Monitor: Connection established [OK]","[ 0.387234] System fully operational","","RUSTBONE INDUSTRIAL TERMINAL v0.0.1","Zone 1 - Manufacturing Sector Alpha-7","Terminal ID: T1-4A7B-9D2C-XF91","Hardware Rev: RB-T1-2387.01.15","Industrial Controller: ONLINE","Safety Monitoring: ACTIVE","Environmental Systems: NOMINAL","","Initializing biometric scanner...","Loading worker database...","Checking shift schedules...","Verifying security clearances...","","Ready for worker authentication."];this.showFastBootSequence(t,()=>{this.showWorkerAuthenticationPrompt()})}showFastBootSequence(t,i){let e=0,c=setInterval(()=>{if(e>=t.length){clearInterval(c),i?i():this.completeBootSequence();return}let l={id:e,text:t[e],displayText:t[e],timestamp:this.generateTimestamp(),isTyping:!1,isComplete:!0,delay:0},h=this.bootMessages();this.bootMessages.set([...h,l]),e++},15)}showWorkerAuthenticationPrompt(){setTimeout(()=>{let t={id:998,text:"",displayText:"",timestamp:this.generateTimestamp(),isTyping:!1,isComplete:!0,delay:0},i={id:999,text:">>> WORKER AUTHENTICATION REQUIRED <<<",displayText:">>> WORKER AUTHENTICATION REQUIRED <<<",timestamp:this.generateTimestamp(),isTyping:!1,isComplete:!0,delay:0,isError:!0},e=this.bootMessages();this.bootMessages.set([...e,t,i]),this.showWorkerAuth.set(!0),this.hapticService.trigger("error")},100)}typeNextMessage(){if(this.currentMessageIndex>=this.systemMessages.length){this.startProgressBar();return}let t=this.systemMessages[this.currentMessageIndex],i=this.generateTimestamp(),e={id:this.currentMessageIndex,text:t,displayText:"",timestamp:i,isTyping:!0,isComplete:!1,delay:Math.random()*10+2},c=this.bootMessages();this.bootMessages.set([...c,e]),this.typeMessage(e)}typeMessage(t){if(!this.isBrowser)return;let i=0,e=.1;this.typingInterval=setInterval(()=>{if(i<=t.text.length){t.displayText=t.text.substring(0,i);let c=this.bootMessages(),l=c.findIndex(h=>h.id===t.id);l>=0&&(c[l]=I({},t),this.bootMessages.set([...c])),i++,i%30===0&&this.hapticService.triggerCustom([2],"typing")}else{clearInterval(this.typingInterval),t.isTyping=!1,t.isComplete=!0;let c=this.bootMessages(),l=c.findIndex(h=>h.id===t.id);l>=0&&(c[l]=I({},t),this.bootMessages.set([...c])),this.currentMessageIndex++,setTimeout(()=>{this.typeNextMessage()},t.delay)}},e)}startProgressBar(){this.showProgress.set(!0);let t=setInterval(()=>{let i=this.progressValue();i>=100?(clearInterval(t),this.completeBootSequence()):this.progressValue.set(Math.min(i+20,100))},5)}onWorkerNameSubmit(){return T(this,null,function*(){let t=this.workerName().trim();if(t.length<2){this.authError.set("Nombre debe tener al menos 2 caracteres"),this.hapticService.trigger("error");return}let i=yield this.workerService.generateWorkerProfile(t);this.workerProfile.set(i),this.showWorkerAuth.set(!1),this.authError.set(""),this.showWorkerRegistrationComplete(i)})}onWorkerNameChange(t){let i=t.target;this.workerName.set(i.value),this.authError()&&this.authError.set("")}showWorkerRegistrationComplete(t){let i=["","> WORKER REGISTRATION SUCCESSFUL",`> Name: ${t.name}`,`> Worker ID: ${t.id}`,`> Assigned Zone: ${t.zone}`,`> Department: ${t.department}`,`> Clearance Level: ${t.clearanceLevel}`,`> Registration Date: ${t.assignedDate}`,"","> BIOMETRIC SCAN: COMPLETE","> NEURAL PATTERN: RECORDED","> ACCESS PERMISSIONS: GRANTED","","Welcome to RUSTBONE Industrial Complex.","Your shift begins now.",""],e=0,c=this.bootMessages(),l=setInterval(()=>{if(e>=i.length){clearInterval(l),this.completeBootSequence();return}let h={id:1e3+e,text:i[e],displayText:i[e],timestamp:this.generateTimestamp(),isTyping:!1,isComplete:!0,delay:0};this.bootMessages.set([...c,h]),e++,e%3===0&&this.hapticService.triggerCustom([5],"registration")},30)}completeBootSequence(){setTimeout(()=>{this.showProgress.set(!1),this.showGlitch.set(!0),this.hapticService.trigger("glitch"),setTimeout(()=>{this.showGlitch.set(!1),this.bootComplete.set(!0),this.showContinuePrompt.set(!0)},200)},100)}onContinue(){this.hapticService.trigger("success"),this.bootCompleted.emit()}generateTimestamp(){let t=new Date,i=t.getHours().toString().padStart(2,"0"),e=t.getMinutes().toString().padStart(2,"0"),c=t.getSeconds().toString().padStart(2,"0"),l=t.getMilliseconds().toString().padStart(3,"0");return`${i}:${e}:${c}.${l}`}static{this.\u0275fac=function(i){return new(i||r)(U(B))}}static{this.\u0275cmp=S({type:r,selectors:[["app-boot"]],outputs:{bootCompleted:"bootCompleted"},standalone:!0,features:[w],decls:16,vars:9,consts:[[1,"boot-container"],[1,"boot-terminal"],[1,"terminal-header"],[1,"system-name"],[1,"terminal-indicator"],[1,"boot-messages"],["class","boot-line",3,"typing","complete","error",4,"ngFor","ngForOf","ngForTrackBy"],["class","worker-auth",4,"ngIf"],["class","boot-progress",4,"ngIf"],[1,"glitch-transition"],[1,"glitch-layer"],["class","continue-prompt",3,"click",4,"ngIf"],[1,"boot-line"],["class","timestamp",4,"ngIf"],[1,"message-text"],["class","cursor",4,"ngIf"],[1,"timestamp"],[1,"cursor"],[1,"worker-auth"],[1,"auth-prompt"],[1,"auth-header"],[1,"warning-icon"],[1,"auth-title"],[1,"auth-form"],[1,"input-group"],[1,"input-label"],["type","text","placeholder","Enter full name...","autocomplete","off","maxlength","50",1,"worker-input",3,"input","keyup.enter","value"],["class","auth-error",4,"ngIf"],[1,"auth-controls"],[1,"submit-btn",3,"click","disabled"],[1,"auth-footer"],[1,"auth-error"],[1,"error-icon"],[1,"error-text"],[1,"boot-progress"],[1,"progress-label"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"continue-prompt",3,"click"],[1,"prompt-text"],[1,"prompt-blink"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a(4,"RustOS v0.0.1"),o(),n(5,"span",4),a(6,"\u25CF"),o()(),n(7,"div",5),u(8,Ct,5,9,"div",6),o(),u(9,vt,21,3,"div",7)(10,xt,7,3,"div",8),o(),n(11,"div",9),C(12,"div",10)(13,"div",10)(14,"div",10),o(),u(15,Mt,5,0,"div",11),o()),i&2&&(b("complete",e.bootComplete()),s(8),g("ngForOf",e.bootMessages())("ngForTrackBy",e.trackByMessage),s(),g("ngIf",e.showWorkerAuth()),s(),g("ngIf",e.showProgress()),s(),b("active",e.showGlitch()),s(4),g("ngIf",e.showContinuePrompt()))},dependencies:[k,L,E],styles:['.boot-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;background:var(--void-black);overflow:hidden;display:flex;align-items:center;justify-content:center;transition:all var(--theme-transition)}.boot-container.complete[_ngcontent-%COMP%]{background:var(--dark-metal)}.boot-terminal[_ngcontent-%COMP%]{width:90%;max-width:800px;background:rgba(var(--dark-metal),.95);border:2px solid var(--ui-border);border-radius:4px;padding:24px;font-family:Courier New,Monaco,monospace;box-shadow:0 0 50px rgba(var(--terminal-green),.1),inset 0 0 20px #000c}.terminal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--ui-border)}.system-name[_ngcontent-%COMP%]{color:var(--terminal-green);font-weight:700;font-size:16px;letter-spacing:2px}.terminal-indicator[_ngcontent-%COMP%]{color:var(--rust-orange);font-size:18px;animation:_ngcontent-%COMP%_terminal-pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_terminal-pulse{0%,to{opacity:1}50%{opacity:.3}}.boot-messages[_ngcontent-%COMP%]{height:400px;overflow-y:hidden;margin-bottom:20px;position:relative;padding:12px;background:#000000e6;border:1px solid var(--ui-border);border-radius:2px;display:flex;flex-direction:column;justify-content:flex-end}.boot-line[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:4px;opacity:0;transform:translateY(10px);animation:_ngcontent-%COMP%_boot-line-appear .1s ease-out forwards;font-size:13px;line-height:1.2}.boot-line.typing[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{border-right:1px solid var(--terminal-green)}.boot-line.complete[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{border-right:none}.boot-line[_ngcontent-%COMP%]:nth-last-child(n+20){opacity:.7}.boot-line[_ngcontent-%COMP%]:nth-last-child(n+25){opacity:.4}.boot-line[_ngcontent-%COMP%]:nth-last-child(n+30){opacity:.2}.boot-line[_ngcontent-%COMP%]:nth-last-child(n+35){display:none}@keyframes _ngcontent-%COMP%_boot-line-appear{to{opacity:1;transform:translateY(0)}}.timestamp[_ngcontent-%COMP%]{color:var(--ui-text-secondary);font-size:10px;margin-right:8px;white-space:nowrap;min-width:80px;opacity:.7}.message-text[_ngcontent-%COMP%]{color:var(--terminal-green);font-size:12px;line-height:1.2;flex:1;font-weight:400}.boot-line.error[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--rust-orange);font-weight:600}.cursor[_ngcontent-%COMP%]{color:var(--rust-orange);font-weight:700;animation:_ngcontent-%COMP%_cursor-blink 1s ease-in-out infinite;margin-left:2px}@keyframes _ngcontent-%COMP%_cursor-blink{0%,50%{opacity:1}51%,to{opacity:0}}.boot-progress[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background:rgba(var(--ui-surface),.3);border:1px solid var(--ui-border);border-radius:4px}.progress-label[_ngcontent-%COMP%]{color:var(--ui-text);font-size:12px;font-weight:700;margin-bottom:8px;letter-spacing:1px;text-align:center}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:rgba(var(--ui-border),.2);border-radius:4px;overflow:hidden;margin-bottom:8px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,var(--terminal-green) 0%,var(--rust-orange) 50%,var(--terminal-green) 100%);border-radius:4px;transition:width .1s linear;position:relative}.progress-fill[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.4) 50%,transparent 100%);animation:_ngcontent-%COMP%_progress-shine 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_progress-shine{0%{left:-100%}to{left:100%}}.progress-text[_ngcontent-%COMP%]{color:var(--ui-text-secondary);font-size:11px;text-align:center;letter-spacing:1px}.glitch-transition[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;opacity:0}.glitch-transition.active[_ngcontent-%COMP%]{opacity:1;animation:_ngcontent-%COMP%_glitch-sequence 1s ease-in-out}.glitch-layer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:var(--terminal-green);mix-blend-mode:difference}.glitch-layer[_ngcontent-%COMP%]:nth-child(1){animation:_ngcontent-%COMP%_glitch-layer-1 .3s ease-in-out infinite}.glitch-layer[_ngcontent-%COMP%]:nth-child(2){animation:_ngcontent-%COMP%_glitch-layer-2 .2s ease-in-out infinite;background:var(--rust-orange)}.glitch-layer[_ngcontent-%COMP%]:nth-child(3){animation:_ngcontent-%COMP%_glitch-layer-3 .4s ease-in-out infinite;background:var(--ice-blue)}@keyframes _ngcontent-%COMP%_glitch-sequence{0%{opacity:0}10%{opacity:1}90%{opacity:1}to{opacity:0}}@keyframes _ngcontent-%COMP%_glitch-layer-1{0%,to{transform:translate(0);clip-path:inset(0 0 0 0)}20%{transform:translate(-2px,2px);clip-path:inset(0 0 50% 0)}40%{transform:translate(2px,-1px);clip-path:inset(30% 0 0 0)}60%{transform:translate(-1px,3px);clip-path:inset(0 0 80% 0)}80%{transform:translate(1px,-2px);clip-path:inset(60% 0 0 0)}}@keyframes _ngcontent-%COMP%_glitch-layer-2{0%,to{transform:translate(0);clip-path:inset(0 0 0 0)}25%{transform:translate(3px,-1px);clip-path:inset(20% 0 0 0)}50%{transform:translate(-1px,2px);clip-path:inset(0 0 70% 0)}75%{transform:translate(2px,1px);clip-path:inset(40% 0 0 0)}}@keyframes _ngcontent-%COMP%_glitch-layer-3{0%,to{transform:translate(0);clip-path:inset(0 0 0 0)}15%{transform:translate(-3px,-2px);clip-path:inset(0 0 60% 0)}30%{transform:translate(1px,3px);clip-path:inset(35% 0 0 0)}45%{transform:translate(-2px,-1px);clip-path:inset(0 0 85% 0)}60%{transform:translate(2px,2px);clip-path:inset(25% 0 0 0)}75%{transform:translate(-1px,-3px);clip-path:inset(0 0 45% 0)}}.continue-prompt[_ngcontent-%COMP%]{position:absolute;bottom:40px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:8px;font-family:Courier New,Monaco,monospace;color:var(--ui-text);font-size:14px;cursor:pointer;transition:all .3s ease}.continue-prompt[_ngcontent-%COMP%]:hover{color:var(--rust-orange);transform:translate(-50%) scale(1.05)}.prompt-text[_ngcontent-%COMP%]{letter-spacing:1px;text-transform:uppercase}.prompt-blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cursor-blink 1s ease-in-out infinite;font-weight:700}@media (max-width: 768px){.boot-terminal[_ngcontent-%COMP%]{width:95%;padding:16px}.boot-messages[_ngcontent-%COMP%]{min-height:250px;max-height:300px}.timestamp[_ngcontent-%COMP%]{min-width:80px;font-size:10px}.message-text[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.boot-terminal[_ngcontent-%COMP%]{padding:12px}.system-name[_ngcontent-%COMP%]{font-size:14px}.boot-messages[_ngcontent-%COMP%]{min-height:200px;max-height:250px}.continue-prompt[_ngcontent-%COMP%]{bottom:20px;font-size:12px}}.worker-auth[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background:rgba(var(--rust-orange),.05);border:2px solid var(--rust-orange);border-radius:4px;animation:_ngcontent-%COMP%_auth-appear .5s ease-out}@keyframes _ngcontent-%COMP%_auth-appear{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.auth-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;gap:12px}.warning-icon[_ngcontent-%COMP%]{color:var(--rust-orange);font-size:24px;animation:_ngcontent-%COMP%_warning-blink 2s infinite}@keyframes _ngcontent-%COMP%_warning-blink{0%,50%{opacity:1}51%,to{opacity:.3}}.auth-title[_ngcontent-%COMP%]{color:var(--rust-orange);font-size:18px;font-weight:700;letter-spacing:2px;text-transform:uppercase}.auth-form[_ngcontent-%COMP%]{margin-bottom:20px}.input-group[_ngcontent-%COMP%]{margin-bottom:15px}.input-label[_ngcontent-%COMP%]{display:block;color:var(--terminal-green);font-size:14px;font-weight:700;margin-bottom:8px;letter-spacing:1px}.worker-input[_ngcontent-%COMP%]{width:100%;background:#000c;border:2px solid var(--ui-border);color:var(--terminal-green);padding:12px 16px;font-family:Courier New,monospace;font-size:16px;letter-spacing:1px;text-transform:uppercase;border-radius:4px;outline:none;transition:all .3s ease}.worker-input[_ngcontent-%COMP%]:focus{border-color:var(--terminal-green);box-shadow:0 0 10px rgba(var(--terminal-green),.3)}.worker-input[_ngcontent-%COMP%]::placeholder{color:var(--ui-text-dim);text-transform:none}.auth-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--rust-orange);font-size:14px;margin-top:8px;animation:_ngcontent-%COMP%_error-shake .5s ease-out}@keyframes _ngcontent-%COMP%_error-shake{0%,20%,40%,60%,80%{transform:translate(-5px)}10%,30%,50%,70%,90%{transform:translate(5px)}to{transform:translate(0)}}.error-icon[_ngcontent-%COMP%]{font-size:16px}.auth-controls[_ngcontent-%COMP%]{margin-top:20px}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--terminal-green),var(--ice-blue));border:2px solid var(--terminal-green);color:var(--dark-metal);padding:12px 24px;font-family:Courier New,monospace;font-size:14px;font-weight:700;letter-spacing:2px;text-transform:uppercase;border-radius:4px;cursor:pointer;transition:all .3s ease;outline:none}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 15px rgba(var(--terminal-green),.3),inset 0 0 10px #ffffff1a}.submit-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;background:var(--ui-surface);color:var(--ui-text-dim)}.auth-footer[_ngcontent-%COMP%]{border-top:1px solid var(--ui-border);padding-top:15px}.auth-footer[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:var(--ui-text-dim);font-size:12px;line-height:1.4;margin-bottom:4px}.boot-line.error[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{color:var(--rust-orange);font-weight:700;text-transform:uppercase;letter-spacing:2px}']})}}return r})();function bt(r,m){r&1&&C(0,"div",30)}function Pt(r,m){if(r&1&&(n(0,"div",31)(1,"div",32),G(),n(2,"svg",33),C(3,"circle",34)(4,"circle",35),o()(),K(),n(5,"div",36),a(6),o()()),r&2){let t=d();s(4),R("stroke-dashoffset",314-t.scanProgress()/100*314),s(2),M("",t.scanProgress(),"%")}}function Ot(r,m){if(r&1&&(n(0,"div",37)(1,"div",38),a(2),o(),n(3,"div",39),a(4),o(),n(5,"div",40),a(6),o()()),r&2){let t=d();s(2),M("WORKER ID: ",t.workerId(),""),s(2),M("ASSIGNED ZONE: ",t.assignedZone(),""),s(2),M("SECURITY CLEARANCE: ",t.securityLevel(),"")}}var dt=(()=>{class r{constructor(){this.hapticService=P(D),this.storageService=P(V),this.authenticated=F(),this.isScanning=p(!1),this.isAuthenticated=p(!1),this.hasError=p(!1),this.scanProgress=p(0),this.securityLevel=p("LEVEL-1"),this.workerId=p(""),this.assignedZone=p(""),this.statusMessage=p("PLACE FINGER ON SCANNER"),this.statusIcon=p("\u{1F446}"),this.buttonText=p("SCAN BIOMETRIC"),this.gridLines=Array(12).fill(0)}ngOnInit(){let t=this.storageService.getWorkerProfile();t?(this.workerId.set(t.id),this.assignedZone.set(`Zone ${t.zone}`),this.securityLevel.set(t.clearanceLevel)):(console.warn("\u26A0\uFE0F No worker profile found, using fallback values"),this.generateWorkerId())}ngOnDestroy(){this.clearIntervals()}startScan(){this.isAuthenticated()||this.isScanning()||(this.isScanning.set(!0),this.hasError.set(!1),this.statusMessage.set("SCANNING..."),this.statusIcon.set("\u{1F50D}"),this.buttonText.set("SCANNING..."),this.hapticService.trigger("login"),this.startProgressAnimation(),this.scanTimeout=window.setTimeout(()=>{this.completeScan()},2e3))}stopScan(){if(!this.isScanning())return;this.scanProgress()<100&&this.cancelScan()}startProgressAnimation(){this.scanProgress.set(0),this.progressInterval=window.setInterval(()=>{let t=this.scanProgress();t>=100?this.progressInterval&&clearInterval(this.progressInterval):(this.scanProgress.set(Math.min(t+3,100)),t%20===0&&this.hapticService.trigger("heartbeat"))},60)}completeScan(){this.clearIntervals(),Math.random()>.2?this.authenticateUser():this.failAuthentication()}authenticateUser(){this.isScanning.set(!1),this.isAuthenticated.set(!0),this.statusMessage.set("AUTHENTICATION SUCCESSFUL"),this.statusIcon.set("\u2705"),this.buttonText.set("PROCEED TO TERMINAL");let t=["ZONE-1 INDUSTRIAL","ZONE-2 RESIDENTIAL","ZONE-3 RESEARCH"],i=["LEVEL-1","LEVEL-2","LEVEL-3"];this.assignedZone.set(t[Math.floor(Math.random()*t.length)]),this.securityLevel.set(i[Math.floor(Math.random()*i.length)]),this.hapticService.trigger("success"),console.log(`[Login] Worker ${this.workerId()} authenticated successfully`)}failAuthentication(){this.isScanning.set(!1),this.hasError.set(!0),this.statusMessage.set("AUTHENTICATION FAILED - RETRY"),this.statusIcon.set("\u274C"),this.buttonText.set("RETRY SCAN"),this.scanProgress.set(0),this.hapticService.trigger("error"),setTimeout(()=>{this.resetScan()},3e3)}cancelScan(){this.clearIntervals(),this.resetScan(),this.statusMessage.set("SCAN CANCELLED"),this.statusIcon.set("\u26A0"),setTimeout(()=>{this.resetScan()},1e3)}resetScan(){this.isScanning.set(!1),this.hasError.set(!1),this.scanProgress.set(0),this.statusMessage.set("PLACE FINGER ON SCANNER"),this.statusIcon.set("\u{1F446}"),this.buttonText.set("SCAN BIOMETRIC")}onAction(){if(this.isAuthenticated()){let t=this.storageService.getWorkerProfile();t?this.authenticated.emit(t):(console.error("\u274C No worker profile found in storage"),this.hasError.set(!0),this.statusMessage.set("PROFILE NOT FOUND"))}else this.isScanning()||this.startScan()}generateWorkerId(){let t=["Z1","Z2","Z3","Z4","Z5"],i=["OP","TC","EN","SC","MN"],e=t[Math.floor(Math.random()*t.length)],c=i[Math.floor(Math.random()*i.length)],l=Math.floor(Math.random()*999)+1;this.workerId.set(`${e}-${c}-${l.toString().padStart(3,"0")}`)}clearIntervals(){this.scanInterval&&clearInterval(this.scanInterval),this.scanTimeout&&clearTimeout(this.scanTimeout),this.progressInterval&&clearInterval(this.progressInterval)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=S({type:r,selectors:[["app-login"]],outputs:{authenticated:"authenticated"},standalone:!0,features:[w],decls:45,vars:16,consts:[[1,"login-container"],[1,"grid-background"],[1,"login-panel"],[1,"login-header"],[1,"terminal-title"],[1,"security-level"],[1,"scanner-container"],[1,"scanner-label"],[1,"fingerprint-scanner",3,"mousedown","mouseup","touchstart","touchend"],[1,"scanner-grid"],["class","grid-line",4,"ngFor","ngForOf"],[1,"fingerprint-icon"],["viewBox","0 0 100 100","width","80","height","80"],["d","M50 20 C35 20, 20 35, 20 50 C20 65, 35 80, 50 80 C65 80, 80 65, 80 50 C80 35, 65 20, 50 20","fill","none","stroke","currentColor","stroke-width","2"],["d","M50 30 C40 30, 30 40, 30 50 C30 60, 40 70, 50 70 C60 70, 70 60, 70 50 C70 40, 60 30, 50 30","fill","none","stroke","currentColor","stroke-width","2"],["d","M50 40 C45 40, 40 45, 40 50 C40 55, 45 60, 50 60 C55 60, 60 55, 60 50 C60 45, 55 40, 50 40","fill","none","stroke","currentColor","stroke-width","2"],["class","scan-progress",4,"ngIf"],[1,"scanner-overlay"],[1,"scan-line"],[1,"status-message"],[1,"status-icon"],[1,"status-text"],["class","worker-info",4,"ngIf"],[1,"action-section"],[1,"action-button",3,"click","disabled"],[1,"button-text"],[1,"button-indicator"],[1,"security-warnings"],[1,"warning-item"],[1,"warning-icon"],[1,"grid-line"],[1,"scan-progress"],[1,"progress-ring"],["width","120","height","120"],["cx","60","cy","60","r","50","fill","none","stroke","var(--ui-border)","stroke-width","2"],["cx","60","cy","60","r","50","fill","none","stroke","var(--rust-orange)","stroke-width","3","stroke-dasharray","314"],[1,"progress-text"],[1,"worker-info"],[1,"worker-id"],[1,"assignment"],[1,"clearance"]],template:function(i,e){i&1&&(n(0,"div",0),C(1,"div",1),n(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"WORKER AUTHENTICATION"),o(),n(6,"div",5),a(7),o()(),n(8,"div",6)(9,"div",7),a(10,"BIOMETRIC SCANNER"),o(),n(11,"div",8),f("mousedown",function(){return e.startScan()})("mouseup",function(){return e.stopScan()})("touchstart",function(){return e.startScan()})("touchend",function(){return e.stopScan()}),n(12,"div",9),u(13,bt,1,0,"div",10),o(),n(14,"div",11),G(),n(15,"svg",12),C(16,"path",13)(17,"path",14)(18,"path",15),o()(),u(19,Pt,7,3,"div",16),K(),n(20,"div",17),C(21,"div",18),o()(),n(22,"div",19)(23,"span",20),a(24),o(),n(25,"span",21),a(26),o()()(),u(27,Ot,7,3,"div",22),n(28,"div",23)(29,"button",24),f("click",function(){return e.onAction()}),n(30,"span",25),a(31),o(),n(32,"span",26),a(33,"\u2192"),o()()()(),n(34,"div",27)(35,"div",28)(36,"span",29),a(37,"\u26A0"),o(),n(38,"span"),a(39,"UNAUTHORIZED ACCESS PROHIBITED"),o()(),n(40,"div",28)(41,"span",29),a(42,"\u{1F441}"),o(),n(43,"span"),a(44,"ALL ACTIVITIES MONITORED"),o()()()()),i&2&&(s(7),M("CLEARANCE: ",e.securityLevel(),""),s(4),b("scanning",e.isScanning())("authenticated",e.isAuthenticated())("error",e.hasError()),s(2),g("ngForOf",e.gridLines),s(6),g("ngIf",e.isScanning()),s(5),_(e.statusIcon()),s(2),_(e.statusMessage()),s(),g("ngIf",e.isAuthenticated()),s(2),b("authenticated",e.isAuthenticated()),g("disabled",e.isScanning()),s(2),_(e.buttonText()))},dependencies:[k,L,E],styles:[".login-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--dark-metal);overflow:hidden}.grid-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;background-image:linear-gradient(var(--ui-border) 1px,transparent 1px),linear-gradient(90deg,var(--ui-border) 1px,transparent 1px);background-size:20px 20px;animation:_ngcontent-%COMP%_grid-flicker 8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_grid-flicker{0%,to{opacity:0}50%{opacity:0}}.login-panel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2f2f2ff2,#121212f2);border:2px solid var(--ui-border);border-radius:8px;padding:32px;width:90%;max-width:450px;box-shadow:0 0 50px #ff45001a,inset 0 0 20px #000c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.terminal-title[_ngcontent-%COMP%]{color:var(--rust-orange);font-family:Courier New,Monaco,monospace;font-size:18px;font-weight:700;letter-spacing:2px;margin-bottom:8px;text-transform:uppercase}.security-level[_ngcontent-%COMP%]{color:var(--ui-text-secondary);font-family:Courier New,Monaco,monospace;font-size:12px;letter-spacing:1px}.scanner-container[_ngcontent-%COMP%]{text-align:center}.scanner-label[_ngcontent-%COMP%]{color:var(--ui-text);font-family:Courier New,Monaco,monospace;font-size:14px;font-weight:700;letter-spacing:1px;margin-bottom:20px;text-transform:uppercase}.fingerprint-scanner[_ngcontent-%COMP%]{position:relative;width:200px;height:200px;margin:0 auto 20px;background:radial-gradient(circle at center,#2e8b571a,#121212cc 70%);border:3px solid var(--terminal-green);border-radius:50%;cursor:pointer;transition:all .3s ease;-webkit-user-select:none;user-select:none}.fingerprint-scanner[_ngcontent-%COMP%]:hover{border-color:var(--rust-orange);transform:scale(1.05)}.fingerprint-scanner.scanning[_ngcontent-%COMP%]{border-color:var(--rust-orange);box-shadow:0 0 30px #ff450080,inset 0 0 20px #ff45001a;animation:_ngcontent-%COMP%_scanner-pulse 2s ease-in-out infinite}.fingerprint-scanner.authenticated[_ngcontent-%COMP%]{border-color:var(--terminal-green);box-shadow:0 0 30px #2e8b5799,inset 0 0 20px #2e8b5733;animation:_ngcontent-%COMP%_success-glow 1s ease-out}.fingerprint-scanner.error[_ngcontent-%COMP%]{border-color:var(--blood-red);box-shadow:0 0 30px #8b000099,inset 0 0 20px #8b000033;animation:_ngcontent-%COMP%_error-shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_scanner-pulse{0%,to{box-shadow:0 0 20px #ff45004d,inset 0 0 20px #ff45001a}50%{box-shadow:0 0 40px #ff450099,inset 0 0 30px #ff450033}}@keyframes _ngcontent-%COMP%_success-glow{0%{box-shadow:0 0 20px #2e8b574d}50%{box-shadow:0 0 60px #2e8b57cc}to{box-shadow:0 0 30px #2e8b5799}}@keyframes _ngcontent-%COMP%_error-shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.scanner-grid[_ngcontent-%COMP%]{position:absolute;top:10%;left:10%;width:80%;height:80%;opacity:.3}.grid-line[_ngcontent-%COMP%]{position:absolute;width:100%;height:1px;background:var(--terminal-green)}.grid-line[_ngcontent-%COMP%]:nth-child(1){top:8.33%}.grid-line[_ngcontent-%COMP%]:nth-child(2){top:16.66%}.grid-line[_ngcontent-%COMP%]:nth-child(3){top:25%}.grid-line[_ngcontent-%COMP%]:nth-child(4){top:33.33%}.grid-line[_ngcontent-%COMP%]:nth-child(5){top:41.66%}.grid-line[_ngcontent-%COMP%]:nth-child(6){top:50%}.grid-line[_ngcontent-%COMP%]:nth-child(7){top:58.33%}.grid-line[_ngcontent-%COMP%]:nth-child(8){top:66.66%}.grid-line[_ngcontent-%COMP%]:nth-child(9){top:75%}.grid-line[_ngcontent-%COMP%]:nth-child(10){top:83.33%}.grid-line[_ngcontent-%COMP%]:nth-child(11){top:91.66%}.grid-line[_ngcontent-%COMP%]:nth-child(12){top:100%}.fingerprint-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--terminal-green);opacity:.6;transition:all .3s ease}.scanning[_ngcontent-%COMP%]   .fingerprint-icon[_ngcontent-%COMP%]{color:var(--rust-orange);opacity:.8;animation:_ngcontent-%COMP%_fingerprint-scan 1.5s ease-in-out infinite}.authenticated[_ngcontent-%COMP%]   .fingerprint-icon[_ngcontent-%COMP%]{color:var(--terminal-green);opacity:1;transform:translate(-50%,-50%) scale(1)}.error[_ngcontent-%COMP%]   .fingerprint-icon[_ngcontent-%COMP%]{color:var(--blood-red);opacity:.9}@keyframes _ngcontent-%COMP%_fingerprint-scan{0%,to{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.1)}}.scan-progress[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center}.progress-ring[_ngcontent-%COMP%]{position:relative}.progress-ring[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg)}.progress-ring[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .1s linear}.progress-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--rust-orange);font-family:Courier New,Monaco,monospace;font-size:14px;font-weight:700}.scanner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50%;overflow:hidden;pointer-events:none}.scanning[_ngcontent-%COMP%]   .scanner-overlay[_ngcontent-%COMP%]   .scan-line[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scan-sweep 2s linear infinite}.scan-line[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent 0%,var(--rust-orange) 50%,transparent 100%);opacity:0}@keyframes _ngcontent-%COMP%_scan-sweep{0%{top:0%;opacity:0}10%{opacity:1}90%{opacity:1}to{top:100%;opacity:0}}.status-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:24px;font-family:Courier New,Monaco,monospace;font-size:14px}.status-icon[_ngcontent-%COMP%]{font-size:16px}.status-text[_ngcontent-%COMP%]{color:var(--ui-text);letter-spacing:.5px;text-transform:uppercase}.worker-info[_ngcontent-%COMP%]{background:#2f2f2f80;border:1px solid var(--ui-border);border-radius:4px;padding:16px;margin-bottom:24px;font-family:Courier New,Monaco,monospace;font-size:12px}.worker-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:4px}.worker-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-bottom:0}.worker-id[_ngcontent-%COMP%]{color:var(--terminal-green);font-weight:700}.assignment[_ngcontent-%COMP%]{color:var(--ui-text)}.clearance[_ngcontent-%COMP%]{color:var(--rust-orange)}.action-section[_ngcontent-%COMP%]{text-align:center}.action-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:12px;padding:12px 24px;background:linear-gradient(135deg,var(--button-idle) 0%,rgba(47,47,47,.8) 100%);border:2px solid var(--ui-border);border-radius:4px;color:var(--ui-text);font-family:Courier New,Monaco,monospace;font-size:14px;font-weight:700;letter-spacing:1px;text-transform:uppercase;transition:all .3s ease;cursor:pointer}.action-button[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,var(--button-hover) 0%,rgba(255,69,0,.8) 100%);border-color:var(--rust-orange);transform:translateY(-2px);box-shadow:0 4px 12px #ff45004d}.action-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 6px #ff45004d}.action-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.action-button.authenticated[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--terminal-green) 0%,rgba(46,139,87,.8) 100%);border-color:var(--terminal-green)}.button-indicator[_ngcontent-%COMP%]{font-size:16px;transition:transform .3s ease}.action-button[_ngcontent-%COMP%]:hover   .button-indicator[_ngcontent-%COMP%]{transform:translate(4px)}.security-warnings[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;flex-direction:column;gap:8px;text-align:center}.warning-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;color:var(--ui-text-secondary);font-family:Courier New,Monaco,monospace;font-size:11px;letter-spacing:.5px;text-transform:uppercase}.warning-icon[_ngcontent-%COMP%]{color:var(--warning-amber);font-size:12px}@media (max-width: 768px){.login-panel[_ngcontent-%COMP%]{width:95%;padding:24px}.fingerprint-scanner[_ngcontent-%COMP%]{width:150px;height:150px}.terminal-title[_ngcontent-%COMP%]{font-size:16px}.security-warnings[_ngcontent-%COMP%]{bottom:10px}}@media (max-width: 480px){.login-panel[_ngcontent-%COMP%]{padding:20px}.fingerprint-scanner[_ngcontent-%COMP%]{width:120px;height:120px}.fingerprint-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:60px;height:60px}.progress-ring[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:90px;height:90px}}"]})}}return r})();function yt(r,m){if(r&1&&(n(0,"div",20)(1,"small"),a(2),$(3,"date"),o()()),r&2){let t=d();s(2),M("Last sync: ",Z(3,1,t.lastSyncTime(),"short"),"")}}function St(r,m){if(r&1&&(n(0,"div",21)(1,"div",22)(2,"span",23),a(3,"\u26A0"),o(),n(4,"span",24),a(5),o()()()),r&2){let t=d();s(5),_(t.errorMessage())}}function wt(r,m){r&1&&(n(0,"div",25),C(1,"div",26),n(2,"p"),a(3,"Loading chapter data..."),o()())}function kt(r,m){if(r&1&&(n(0,"div",41)(1,"small",42),a(2),$(3,"date"),o()()),r&2){let t=d().$implicit;s(2),M(" Release: ",Z(3,1,t.releaseDate,"medium")," ")}}function It(r,m){if(r&1&&(n(0,"div",43)(1,"div",44),C(2,"div",45),o(),n(3,"small"),a(4),o()()),r&2){let t=d().$implicit;s(2),R("width",t.downloadProgress||0,"%"),s(2),M("",t.downloadProgress||0,"%")}}function Et(r,m){r&1&&(n(0,"span"),a(1,"\u25B6"),o())}function Tt(r,m){r&1&&(n(0,"span"),a(1,"\u2B07"),o())}function At(r,m){r&1&&(n(0,"span"),a(1,"\u{1F6AB}"),o())}function Nt(r,m){if(r&1&&(n(0,"div",46),u(1,Et,2,0,"span",47)(2,Tt,2,0,"span",47)(3,At,2,0,"span",47),o()),r&2){let t=d().$implicit;s(),g("ngIf",t.canAccess&&t.isAvailableLocally),s(),g("ngIf",t.isAvailableRemotely&&!t.isAvailableLocally),s(),g("ngIf",!t.canAccess)}}function Bt(r,m){if(r&1){let t=y();n(0,"div",29),f("click",function(){let e=v(t).$implicit,c=d(2);return x(c.selectChapter(e))}),n(1,"div",30)(2,"div",31),a(3," \u{1F4BE} "),o(),n(4,"div",32),a(5," \u{1F310} "),o(),n(6,"div",33),a(7),o()(),n(8,"div",34)(9,"h3",35),a(10),o(),n(11,"p",36),a(12),o(),u(13,kt,4,4,"div",37),o(),n(14,"div",38),u(15,It,5,3,"div",39)(16,Nt,4,3,"div",40),o()()}if(r&2){let t=m.$implicit,i=d(2);g("ngClass",i.getChapterClasses(t)),s(2),b("active",t.isAvailableLocally),s(2),b("active",t.isAvailableRemotely),s(2),b("unlocked",t.canAccess),s(),M(" ",t.canAccess?"\u{1F513}":"\u{1F512}"," "),s(3),_(t.title),s(2),_(t.description),s(),g("ngIf",t.releaseDate),s(2),g("ngIf",t.isDownloading),s(),g("ngIf",!t.isDownloading)}}function Rt(r,m){if(r&1&&(n(0,"main",27),u(1,Bt,17,13,"div",28),o()),r&2){let t=d();s(),g("ngForOf",t.chapters())("ngForTrackBy",t.trackByChapterId)}}function Lt(r,m){if(r&1){let t=y();n(0,"div",48)(1,"div",49)(2,"div",50),a(3,"\u{1F4DA}"),o(),n(4,"h3"),a(5,"No Chapters Found"),o(),n(6,"p"),a(7,"No story files are currently available."),o(),n(8,"button",51),f("click",function(){v(t);let e=d();return x(e.loadChapterList())}),a(9," Retry Loading "),o()()()}}var mt=(()=>{class r{constructor(){this.chapterSelected=new Y,this.exitNavigation=new Y,this.chapters=p([]),this.isLoading=p(!1),this.lastSyncTime=p(null),this.errorMessage=p(null),this.contentService=P(W),this.remoteContentService=P(st)}get localChaptersCount(){return this.chapters().filter(t=>t.isAvailableLocally).length}get remoteChaptersCount(){return this.chapters().filter(t=>t.isAvailableRemotely).length}get unlockedChaptersCount(){return this.chapters().filter(t=>t.canAccess).length}ngOnInit(){this.loadChapterList(),this.checkForRemoteUpdates()}loadChapterList(){return T(this,null,function*(){this.isLoading.set(!0),this.errorMessage.set(null);try{console.log("\u{1F50D} ChapterNavigator: Starting to load chapter list...");let i=(yield new Promise(l=>{this.contentService.gameData$.subscribe(h=>{h&&l(h)})}))?.chapters||[];console.log("\u{1F4DA} Local chapters found:",i.length);let e=[];console.log("\u{1F310} Checking for remote chapters...");try{e=yield this.remoteContentService.getRemoteChapterList(),console.log("\u{1F310} Remote chapters found:",e)}catch(l){console.error("\u274C Error fetching remote chapters:",l),this.errorMessage.set("Error connecting to remote content")}let c=i.map(l=>N(I({},l),{isAvailableLocally:!0,isAvailableRemotely:e.includes(l.id),canAccess:l.isUnlocked}));for(let l of e)if(!i.find(O=>O.id===l))try{let O=yield this.remoteContentService.downloadChapter(l);if(O){let q=O.slides&&O.slides.length>0,Q=O.isUnlocked&&q;c.push(N(I({},O),{isAvailableLocally:!1,isAvailableRemotely:!0,canAccess:Q})),console.log(`\u2705 Remote chapter loaded: ${l} - ${O.title} (${q?O.slides.length:0} slides, ${Q?"accessible":"locked"})`)}}catch(O){console.warn(`\u26A0\uFE0F Could not download remote chapter ${l}:`,O),c.push({id:l,title:`${l} (Remote)`,description:"Available for download",isUnlocked:!1,slides:[],isAvailableLocally:!1,isAvailableRemotely:!0,canAccess:!1})}c.sort((l,h)=>l.id.localeCompare(h.id)),this.chapters.set(c),console.log("\u{1F4DA} Chapter list loaded:",c.length)}catch(t){console.error("\u274C Error loading chapter list:",t),this.errorMessage.set("Error loading chapters")}finally{this.isLoading.set(!1)}})}checkForRemoteUpdates(){return T(this,null,function*(){if(!H.github.narrative.token){console.log("\u{1F511} No GitHub token configured, skipping remote check");return}try{let t=this.chapters().map(e=>e.id),i=yield this.remoteContentService.checkForUpdates(t);i.length>0&&(console.log(`\u{1F195} ${i.length} new chapters available`),yield this.loadChapterList()),this.lastSyncTime.set(new Date)}catch(t){console.warn("\u26A0\uFE0F Error checking for updates:",t)}})}selectChapter(t){if(!t.canAccess){console.log("\u{1F512} Chapter not accessible:",t.id);return}t.slides&&t.slides.length>0?(console.log(`\u{1F4D6} Loading chapter: ${t.title} (${t.slides.length} slides)`),this.chapterSelected.emit(t)):t.isAvailableRemotely&&this.downloadChapter(t)}downloadChapter(t){return T(this,null,function*(){if(!H.github.narrative.token){this.errorMessage.set("GitHub token required for remote content");return}try{let i=this.chapters().map(l=>l.id===t.id?N(I({},l),{isDownloading:!0,downloadProgress:0}):l);this.chapters.set(i);let e=setInterval(()=>{let l=this.chapters(),h=l.find(O=>O.id===t.id);h&&h.downloadProgress!==void 0&&(h.downloadProgress+=20,this.chapters.set([...l]),h.downloadProgress>=100&&clearInterval(e))},200),c=yield this.remoteContentService.downloadChapter(t.id);if(c){let l=this.chapters().map(h=>h.id===t.id?N(I({},c),{isAvailableLocally:!0,isAvailableRemotely:!0,isDownloading:!1,downloadProgress:void 0,canAccess:c.isUnlocked}):h);this.chapters.set(l),c.isUnlocked&&setTimeout(()=>{this.chapterSelected.emit(c)},500)}}catch(i){console.error("\u274C Error downloading chapter:",i),this.errorMessage.set("Error downloading chapter");let e=this.chapters().map(c=>c.id===t.id?N(I({},c),{isDownloading:!1,downloadProgress:void 0}):c);this.chapters.set(e)}})}getChapterClasses(t){let i=["chapter-item"];return t.canAccess||i.push("chapter-locked"),t.isDownloading&&i.push("chapter-downloading"),!t.isAvailableLocally&&t.isAvailableRemotely&&i.push("chapter-remote"),t.isAvailableLocally&&i.push("chapter-local"),i.join(" ")}exitNavigator(){this.exitNavigation.emit()}forceSyncRemote(){return T(this,null,function*(){yield this.checkForRemoteUpdates()})}trackByChapterId(t,i){return i.id}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=S({type:r,selectors:[["app-chapter-navigator"]],outputs:{chapterSelected:"chapterSelected",exitNavigation:"exitNavigation"},standalone:!0,features:[w],decls:31,vars:8,consts:[[1,"chapter-navigator"],[1,"navigator-header"],["title","Back to Menu",1,"exit-btn",3,"click"],[1,"icon-back"],[1,"header-info"],[1,"navigator-title"],[1,"navigator-subtitle"],[1,"sync-controls"],["title","Check for Updates",1,"sync-btn",3,"click","disabled"],[1,"icon-sync"],["class","last-sync",4,"ngIf"],["class","error-message",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","chapter-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"navigator-footer"],[1,"stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"last-sync"],[1,"error-message"],[1,"error-content"],[1,"error-icon"],[1,"error-text"],[1,"loading-state"],[1,"loading-spinner"],[1,"chapter-list"],["class","chapter-item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"chapter-item",3,"click","ngClass"],[1,"chapter-status"],["title","Available Locally",1,"status-indicator","local"],["title","Available Remotely",1,"status-indicator","remote"],["title","Access Status",1,"status-indicator","lock"],[1,"chapter-info"],[1,"chapter-title"],[1,"chapter-description"],["class","chapter-meta",4,"ngIf"],[1,"chapter-action"],["class","download-progress",4,"ngIf"],["class","action-icon",4,"ngIf"],[1,"chapter-meta"],[1,"release-date"],[1,"download-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"action-icon"],[4,"ngIf"],[1,"empty-state"],[1,"empty-content"],[1,"empty-icon"],[1,"retry-btn",3,"click"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"header",1)(2,"button",2),f("click",function(){return e.exitNavigator()}),n(3,"span",3),a(4,"\u2B05"),o()(),n(5,"div",4)(6,"h2",5),a(7,"STORY FILES"),o(),n(8,"p",6),a(9,"Select Chapter to Access"),o()(),n(10,"div",7)(11,"button",8),f("click",function(){return e.forceSyncRemote()}),n(12,"span",9),a(13,"\u{1F504}"),o()(),u(14,yt,4,4,"div",10),o()(),u(15,St,6,1,"div",11)(16,wt,4,0,"div",12)(17,Rt,2,2,"main",13)(18,Lt,10,0,"div",14),n(19,"footer",15)(20,"div",16)(21,"div",17)(22,"span",18),a(23),o(),n(24,"span",19),a(25,"Chapters"),o()(),n(26,"div",17)(27,"span",18),a(28),o(),n(29,"span",19),a(30,"Unlocked"),o()()()()()),i&2&&(s(11),g("disabled",e.isLoading()),s(3),g("ngIf",e.lastSyncTime()),s(),g("ngIf",e.errorMessage()),s(),g("ngIf",e.isLoading()),s(),g("ngIf",!e.isLoading()&&e.chapters().length>0),s(),g("ngIf",!e.isLoading()&&e.chapters().length===0),s(5),_(e.remoteChaptersCount),s(5),_(e.unlockedChaptersCount))},dependencies:[k,ot,L,E,rt],styles:['.chapter-navigator[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:linear-gradient(135deg,#121212,#1a1a1a,#0f0f0f);color:#e0e0e0;font-family:Courier New,monospace;overflow:hidden}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:#ff45001a;border-bottom:2px solid #FF4500;box-shadow:0 2px 8px #ff45004d}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .exit-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #FF4500;color:#ff4500;padding:.5rem 1rem;cursor:pointer;transition:all .3s ease;font-family:inherit}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .exit-btn[_ngcontent-%COMP%]:hover{background:#ff4500;color:#121212;transform:translate(-2px)}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .exit-btn[_ngcontent-%COMP%]   .icon-back[_ngcontent-%COMP%]{font-size:1.2rem}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{flex:1;text-align:center}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .navigator-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#ff4500;text-shadow:0 0 10px rgba(255,69,0,.5)}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .navigator-subtitle[_ngcontent-%COMP%]{margin:.2rem 0 0;font-size:.9rem;color:#b0b0b0}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .sync-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .sync-controls[_ngcontent-%COMP%]   .sync-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #666;color:#e0e0e0;padding:.5rem;cursor:pointer;transition:all .3s ease;margin-bottom:.5rem}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .sync-controls[_ngcontent-%COMP%]   .sync-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ff4500;color:#ff4500}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .sync-controls[_ngcontent-%COMP%]   .sync-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .sync-controls[_ngcontent-%COMP%]   .sync-btn[_ngcontent-%COMP%]   .icon-sync[_ngcontent-%COMP%]{font-size:1rem}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .sync-controls[_ngcontent-%COMP%]   .last-sync[_ngcontent-%COMP%]{font-size:.7rem;color:#888}.chapter-navigator[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{padding:1rem;background:#ff00001a;border-left:4px solid #ff0000;margin:1rem}.chapter-navigator[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chapter-navigator[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{color:red;font-size:1.2rem}.chapter-navigator[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:#fcc}.chapter-navigator[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;gap:1rem}.chapter-navigator[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #333;border-top:3px solid #FF4500;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.chapter-navigator[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b0b0b0;font-size:.9rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:1rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chapter-navigator[_ngcontent-%COMP%]   .chapter-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1a1a1a}.chapter-navigator[_ngcontent-%COMP%]   .chapter-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ff4500;border-radius:3px}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#1e1e1ecc;border:1px solid #333;border-radius:8px;cursor:pointer;transition:all .3s ease;position:relative}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]:hover:not(.chapter-locked){background:#ff45001a;border-color:#ff4500;transform:translate(5px)}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item.chapter-locked[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item.chapter-locked[_ngcontent-%COMP%]:after{content:"LOCKED";position:absolute;top:.5rem;right:.5rem;background:red;color:#fff;padding:.2rem .5rem;font-size:.7rem;border-radius:4px}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item.chapter-downloading[_ngcontent-%COMP%]{border-color:#0f0;background:#00ff001a}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item.chapter-remote[_ngcontent-%COMP%]:not(.chapter-local){border-color:#06f}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item.chapter-remote[_ngcontent-%COMP%]:not(.chapter-local):before{content:"REMOTE";position:absolute;top:.5rem;right:.5rem;background:#06f;color:#fff;padding:.2rem .5rem;font-size:.7rem;border-radius:4px}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-status[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:#323232cc;border:1px solid #333;font-size:.8rem;opacity:.3;transition:all .3s ease}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-status[_ngcontent-%COMP%]   .status-indicator.active[_ngcontent-%COMP%]{opacity:1}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-status[_ngcontent-%COMP%]   .status-indicator.local.active[_ngcontent-%COMP%]{background:#0f03;border-color:#0f0}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-status[_ngcontent-%COMP%]   .status-indicator.remote.active[_ngcontent-%COMP%]{background:#06f3;border-color:#06f}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-status[_ngcontent-%COMP%]   .status-indicator.unlocked[_ngcontent-%COMP%]{opacity:1;background:#ffd70033;border-color:gold}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-info[_ngcontent-%COMP%]{flex:1}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-info[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.1rem;color:#ff4500;font-weight:700}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-info[_ngcontent-%COMP%]   .chapter-description[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;color:#b0b0b0;line-height:1.4}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-info[_ngcontent-%COMP%]   .chapter-meta[_ngcontent-%COMP%]   .release-date[_ngcontent-%COMP%]{color:#888;font-size:.8rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:60px}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]   .download-progress[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]   .download-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:50px;height:6px;background:#ffffff1a;border-radius:3px;overflow:hidden}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]   .download-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#0f0,#06f);border-radius:3px;transition:width .3s ease}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]   .download-progress[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#0f0;font-size:.8rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{font-size:1.5rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;transition:transform .3s ease}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-action[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:scale(1.2)}.chapter-navigator[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.chapter-navigator[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{text-align:center}.chapter-navigator[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.chapter-navigator[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff4500;margin-bottom:1rem}.chapter-navigator[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b0b0b0;margin-bottom:2rem}.chapter-navigator[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:#ff4500;color:#121212;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-family:inherit;font-weight:700;transition:all .3s ease}.chapter-navigator[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{background:#ff6500;transform:translateY(-2px)}.chapter-navigator[_ngcontent-%COMP%]   .navigator-footer[_ngcontent-%COMP%]{padding:1rem;background:#ff45000d;border-top:1px solid #333}.chapter-navigator[_ngcontent-%COMP%]   .navigator-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem}.chapter-navigator[_ngcontent-%COMP%]   .navigator-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{text-align:center}.chapter-navigator[_ngcontent-%COMP%]   .navigator-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:1.2rem;font-weight:700;color:#ff4500}.chapter-navigator[_ngcontent-%COMP%]   .navigator-footer[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#b0b0b0;margin-top:.2rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]{padding:.75rem}.chapter-navigator[_ngcontent-%COMP%]   .navigator-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .navigator-title[_ngcontent-%COMP%]{font-size:1.2rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-list[_ngcontent-%COMP%], .chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]{padding:.75rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:25px;height:25px;font-size:.7rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-info[_ngcontent-%COMP%]   .chapter-title[_ngcontent-%COMP%]{font-size:1rem}.chapter-navigator[_ngcontent-%COMP%]   .chapter-item[_ngcontent-%COMP%]   .chapter-info[_ngcontent-%COMP%]   .chapter-description[_ngcontent-%COMP%]{font-size:.8rem}}']})}}return r})();var X=(()=>{class r{constructor(t){this.isGlitching=p(!1),this.showNotification=p(!1),this.notificationText=p(""),this.isBrowser=A(t)}ngOnInit(){this.isBrowser&&setTimeout(()=>this.triggerGlitch(),2e3)}ngOnDestroy(){this.notificationTimeout&&clearTimeout(this.notificationTimeout),this.glitchTimeout&&clearTimeout(this.glitchTimeout)}triggerGlitch(t=300){this.isBrowser&&(this.isGlitching.set(!0),this.glitchTimeout&&clearTimeout(this.glitchTimeout),this.glitchTimeout=window.setTimeout(()=>{this.isGlitching.set(!1)},t))}showSystemNotification(t){if(!this.isBrowser)return;this.notificationText.set(t.text),this.showNotification.set(!0);let i=t.duration||3e3;this.notificationTimeout&&clearTimeout(this.notificationTimeout),this.notificationTimeout=window.setTimeout(()=>{this.hideNotification()},i)}hideNotification(){this.showNotification.set(!1),this.isBrowser&&setTimeout(()=>{this.notificationText.set("")},500)}testNotification(){this.showSystemNotification({text:"SYSTEM DIAGNOSTIC COMPLETE",type:"system",duration:2e3})}static{this.\u0275fac=function(i){return new(i||r)(U(B))}}static{this.\u0275cmp=S({type:r,selectors:[["app-artifact-frame"]],standalone:!0,features:[w],decls:23,vars:5,consts:[[1,"artifact-frame"],[1,"scanlines"],[1,"vignette"],[1,"rust-texture"],[1,"screen-border"],[1,"corner","top-left"],[1,"corner","top-right"],[1,"corner","bottom-left"],[1,"corner","bottom-right"],[1,"bezel","top"],[1,"bezel","bottom"],[1,"bezel","left"],[1,"bezel","right"],[1,"glitch-overlay"],[1,"glitch-bar"],[1,"notification-plate"],[1,"plate-content"],[1,"notification-icon"],[1,"notification-text"]],template:function(i,e){i&1&&(n(0,"div",0),C(1,"div",1)(2,"div",2)(3,"div",3),n(4,"div",4),C(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12),o(),n(13,"div",13),C(14,"div",14)(15,"div",14)(16,"div",14),o(),n(17,"div",15)(18,"div",16)(19,"span",17),a(20,"\u26A0"),o(),n(21,"span",18),a(22),o()()()()),i&2&&(s(13),b("active",e.isGlitching()),s(4),b("visible",e.showNotification()),s(5),_(e.notificationText()))},dependencies:[k],styles:['.artifact-frame[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:9999;overflow:hidden}.scanlines[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:.7;background:repeating-linear-gradient(0deg,transparent 0px,transparent 2px,rgba(46,139,87,.02) 2px,rgba(46,139,87,.02) 2.5px,transparent 2.5px,transparent 4px);animation:_ngcontent-%COMP%_scanlines-random-drift 4s ease-in-out infinite alternate;pointer-events:none}@keyframes _ngcontent-%COMP%_scanlines-random-drift{0%{opacity:.7;transform:translateY(0) scaleY(1)}33%{opacity:.5;transform:translateY(1px) scaleY(1.02)}66%{opacity:.8;transform:translateY(-.5px) scaleY(.98)}to{opacity:.6;transform:translateY(.5px) scaleY(1.01)}}.vignette[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center,transparent 30%,rgba(0,0,0,.1) 60%,rgba(0,0,0,var(--vignette-strength)) 100%);pointer-events:none}.rust-texture[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:var(--rust-texture-opacity);background:radial-gradient(circle at 20% 30%,rgba(139,69,19,.1) 2px,transparent 4px),radial-gradient(circle at 70% 60%,rgba(160,82,45,.08) 1px,transparent 3px),radial-gradient(circle at 45% 80%,rgba(139,69,19,.12) 3px,transparent 5px),linear-gradient(45deg,transparent 45%,rgba(255,255,255,.02) 47%,rgba(255,255,255,.02) 53%,transparent 55%),linear-gradient(-30deg,transparent 60%,rgba(255,255,255,.01) 62%,transparent 64%);background-size:100px 100px,50px 50px,80px 80px,200px 200px,150px 150px;animation:_ngcontent-%COMP%_rust-drift 60s linear infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_rust-drift{0%{transform:translate(0)}to{transform:translate(-10px,-10px)}}.screen-border[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.corner[_ngcontent-%COMP%]{position:absolute;width:20px;height:20px;border:2px solid var(--ui-border)}.corner.top-left[_ngcontent-%COMP%]{top:8px;left:8px;border-right:none;border-bottom:none}.corner.top-right[_ngcontent-%COMP%]{top:8px;right:8px;border-left:none;border-bottom:none}.corner.bottom-left[_ngcontent-%COMP%]{bottom:8px;left:8px;border-right:none;border-top:none}.corner.bottom-right[_ngcontent-%COMP%]{bottom:8px;right:8px;border-left:none;border-top:none}.bezel[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(var(--ui-border) 0%,transparent 50%,var(--ui-border) 100%)}.bezel.top[_ngcontent-%COMP%]{top:0;left:40px;right:40px;height:2px;margin-left:-32px;margin-right:-32px}.bezel.bottom[_ngcontent-%COMP%]{bottom:0;left:40px;right:40px;height:2px;margin-left:-32px;margin-right:-32px}.bezel.left[_ngcontent-%COMP%]{left:0;top:40px;bottom:40px;width:2px;margin-top:-32px;margin-bottom:-32px}.bezel.right[_ngcontent-%COMP%]{right:0;top:40px;bottom:40px;width:2px;margin-top:-32px;margin-bottom:-32px}.glitch-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity .1s ease;pointer-events:none}.glitch-overlay.active[_ngcontent-%COMP%]{opacity:var(--glitch-intensity);animation:_ngcontent-%COMP%_glitch-chaos var(--glitch-duration) ease-in-out}.glitch-bar[_ngcontent-%COMP%]{position:absolute;width:100%;height:5px;background:linear-gradient(90deg,transparent 0%,var(--rust-orange) 20%,var(--ice-blue) 50%,var(--void-primary) 80%,transparent 100%);opacity:0}.glitch-bar[_ngcontent-%COMP%]:nth-child(1){top:25%;animation:_ngcontent-%COMP%_glitch-bar-1 var(--glitch-duration) ease-in-out infinite}.glitch-bar[_ngcontent-%COMP%]:nth-child(2){top:50%;animation:_ngcontent-%COMP%_glitch-bar-2 var(--glitch-duration) ease-in-out infinite}.glitch-bar[_ngcontent-%COMP%]:nth-child(3){top:75%;animation:_ngcontent-%COMP%_glitch-bar-3 var(--glitch-duration) ease-in-out infinite}@keyframes _ngcontent-%COMP%_glitch-chaos{0%{filter:hue-rotate(0deg) saturate(1);transform:translate(0)}10%{filter:hue-rotate(90deg) saturate(2);transform:translate(-2px,-1px)}20%{filter:hue-rotate(-90deg) saturate(.5);transform:translate(1px,2px)}30%{filter:hue-rotate(180deg) saturate(1.5);transform:translate(-1px,-2px)}40%{filter:hue-rotate(-180deg) saturate(.8);transform:translate(2px,1px)}to{filter:hue-rotate(0deg) saturate(1);transform:translate(0)}}@keyframes _ngcontent-%COMP%_glitch-bar-1{0%,to{transform:translate(-100%)}50%{transform:translate(100vw)}}@keyframes _ngcontent-%COMP%_glitch-bar-2{0%,to{transform:translate(100vw)}50%{transform:translate(-100%)}}@keyframes _ngcontent-%COMP%_glitch-bar-3{0%,to{transform:translate(-50%)}25%{transform:translate(150%)}75%{transform:translate(-150%)}}.notification-plate[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;transform:translate(-50%) translateY(-100%);width:80%;max-width:400px;background:linear-gradient(135deg,var(--ui-surface) 0%,var(--dark-metal) 50%,var(--ui-surface) 100%);border:2px solid var(--ui-border);border-top:none;border-radius:0 0 8px 8px;box-shadow:0 4px 20px var(--ui-shadow);transition:transform .5s cubic-bezier(.68,-.55,.265,1.55);pointer-events:all;z-index:1000}.notification-plate.visible[_ngcontent-%COMP%]{transform:translate(-50%) translateY(0)}.notification-plate[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-2px;left:20%;right:20%;height:4px;background:linear-gradient(90deg,transparent 0%,var(--rust-orange) 50%,transparent 100%);border-radius:0 0 2px 2px}.plate-content[_ngcontent-%COMP%]{padding:16px 20px;display:flex;align-items:center;gap:12px;font-family:Courier New,Monaco,monospace;color:var(--ui-text);font-size:14px;font-weight:700}.notification-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--rust-orange);animation:_ngcontent-%COMP%_notification-pulse 1.5s ease-in-out infinite}.notification-text[_ngcontent-%COMP%]{flex:1;letter-spacing:.5px;text-transform:uppercase}@keyframes _ngcontent-%COMP%_notification-pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}@media (max-width: 480px){.corner[_ngcontent-%COMP%]{width:15px;height:15px}.notification-plate[_ngcontent-%COMP%]{width:90%}.plate-content[_ngcontent-%COMP%]{padding:12px 16px;font-size:12px}}']})}}return r})();var ht=(()=>{class r{constructor(t){this.platformId=t,this._currentTheme=p("magma"),this.currentTheme=this._currentTheme.asReadonly(),this.themeConfigs={magma:{environment:"magma",primary:"#FF4500",secondary:"#FF6347",background:"#1A0A00",text:"#FFDDAA",description:"Forges and Industrial Sectors"},ice:{environment:"ice",primary:"#4682B4",secondary:"#87CEEB",background:"#0A0A1A",text:"#E0F6FF",description:"Cryo Facilities and Research Labs"},void:{environment:"void",primary:"#8B0000",secondary:"#A020F0",background:"#000000",text:"#DDA0DD",description:"Deep Space and Unknown Sectors"}},A(this.platformId)&&this.setTheme("magma")}setTheme(t){if(!A(this.platformId)){this._currentTheme.set(t);return}let i=document.body;i.classList.remove("theme-magma","theme-ice","theme-void"),i.classList.add(`theme-${t}`),this._currentTheme.set(t),"vibrate"in navigator&&navigator.vibrate([30,50,30]),console.log(`[ThemeService] Theme switched to: ${t.toUpperCase()}`)}getCurrentThemeConfig(){return this.themeConfigs[this._currentTheme()]}getAllThemes(){return Object.values(this.themeConfigs)}cycleTheme(){let t=["magma","ice","void"],e=(t.indexOf(this._currentTheme())+1)%t.length;this.setTheme(t[e])}getThemeCssProperties(){let t=this.getCurrentThemeConfig();return{"--current-primary":t.primary,"--current-secondary":t.secondary,"--current-background":t.background,"--current-text":t.text}}static{this.\u0275fac=function(i){return new(i||r)(tt(B))}}static{this.\u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Dt(r,m){if(r&1){let t=y();n(0,"app-boot",7),f("bootCompleted",function(){v(t);let e=d();return x(e.onBootComplete())}),o()}}function zt(r,m){if(r&1){let t=y();n(0,"app-login",8),f("authenticated",function(e){v(t);let c=d();return x(c.onAuthenticated(e))}),o()}}function Ft(r,m){if(r&1){let t=y();n(0,"div",9)(1,"header",10)(2,"div",11)(3,"span",12),a(4),o(),n(5,"span",13),a(6),o()(),n(7,"div",14)(8,"span",15),a(9,"\u25CF"),o(),n(10,"span"),a(11,"RustOS v0.0.1 ACTIVE"),o()()(),n(12,"main",16)(13,"div",17)(14,"h2"),a(15,"RUSTBONE TERMINAL"),o(),n(16,"p"),a(17),o(),n(18,"p"),a(19),o(),n(20,"button",18),f("click",function(){v(t);let e=d();return x(e.enterChapterNavigator())}),n(21,"span"),a(22,"\u{1F4D6} ACCESS STORY FILES"),o(),n(23,"small"),a(24,"Browse available chapters"),o()(),n(25,"button",18),f("click",function(){v(t);let e=d();return x(e.enterWorkerManagement())}),n(26,"span"),a(27,"\u{1F477} WORKER MANAGEMENT"),o(),n(28,"small"),a(29,"View profile, schedule, permissions & QR code"),o()(),n(30,"button",19)(31,"span"),a(32,"\u{1F4CA} SYSTEM LOGS"),o(),n(33,"small"),a(34,"Access denied - Insufficient clearance"),o()(),n(35,"button",19)(36,"span"),a(37,"\u2601\uFE0F CLOUD SYNC"),o(),n(38,"small"),a(39,"Drive integration pending"),o()()()()()}if(r&2){let t,i,e,c,l=d();s(4),_(((t=l.workerProfile())==null?null:t.id)||"UNKNOWN"),s(2),_(((i=l.workerProfile())==null?null:i.zone)||"UNASSIGNED"),s(11),M("WORKER: ",(e=l.workerProfile())==null?null:e.id,""),s(2),M("CLEARANCE: ",(c=l.workerProfile())==null?null:c.clearanceLevel,"")}}function Ut(r,m){if(r&1){let t=y();n(0,"app-chapter-navigator",20),f("chapterSelected",function(e){v(t);let c=d();return x(c.onChapterSelected(e))})("exitNavigation",function(){v(t);let e=d();return x(e.exitChapterNavigator())}),o()}}function Vt(r,m){if(r&1){let t=y();n(0,"app-reader",21),f("exitReader",function(){v(t);let e=d();return x(e.exitReader())}),o()}}function Wt(r,m){if(r&1){let t=y();n(0,"app-worker-management",22),f("exitManagement",function(){v(t);let e=d();return x(e.exitWorkerManagement())}),o()}}var De=(()=>{class r{constructor(){this.themeService=P(ht),this.hapticService=P(D),this.contentService=P(W),this.title="PROJECT RUSTBONE",this.currentView=p("boot"),this.currentTheme=p("magma"),this.workerProfile=p(null),this.showDebug=p(!0)}ngOnInit(){console.log("[APP] PROJECT RUSTBONE - Diegetic Terminal Initializing..."),typeof localStorage<"u"&&localStorage.removeItem("rustbone_save_state"),this.currentTheme.set(this.themeService.currentTheme())}onBootComplete(){console.log("[APP] Boot sequence completed, transitioning to login"),this.currentView.set("login")}onAuthenticated(t){console.log("[APP] Authentication successful:",t),this.workerProfile.set(t),this.currentView.set("app"),setTimeout(()=>{this.artifactFrame?.showSystemNotification({text:`WELCOME ${t.id}`,type:"system",duration:3e3})},1e3)}resetToBoot(){this.currentView.set("boot"),this.workerProfile.set(null),this.hapticService.trigger("boot")}cycleTheme(){this.themeService.cycleTheme(),this.currentTheme.set(this.themeService.currentTheme())}testGlitch(){this.artifactFrame?.triggerGlitch(500),this.hapticService.trigger("glitch")}enterReader(){this.currentView.set("chapter-navigator"),this.hapticService.trigger("success")}enterChapterNavigator(){this.currentView.set("chapter-navigator"),this.hapticService.trigger("success")}onChapterSelected(t){this.currentView.set("reader"),setTimeout(()=>{t.slides&&t.slides.length>0?this.contentService.loadChapterDirectly(t):this.contentService.navigateToChapter(t.id,0),this.hapticService.trigger("success")},0)}exitChapterNavigator(){this.currentView.set("app"),this.hapticService.trigger("notification")}exitReader(){this.currentView.set("app"),this.hapticService.trigger("notification")}enterWorkerManagement(){this.currentView.set("worker-management"),this.hapticService.trigger("success")}exitWorkerManagement(){this.currentView.set("app"),this.hapticService.trigger("notification")}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=S({type:r,selectors:[["app-root"]],viewQuery:function(i,e){if(i&1&&et(X,5),i&2){let c;nt(c=it())&&(e.artifactFrame=c.first)}},standalone:!0,features:[w],decls:8,vars:8,consts:[[1,"rustbone-terminal"],[3,"bootCompleted",4,"ngIf"],[3,"authenticated",4,"ngIf"],["class","main-app",4,"ngIf"],[3,"chapterSelected","exitNavigation",4,"ngIf"],[3,"exitReader",4,"ngIf"],[3,"exitManagement",4,"ngIf"],[3,"bootCompleted"],[3,"authenticated"],[1,"main-app"],[1,"app-header"],[1,"worker-info"],[1,"worker-id"],[1,"zone"],[1,"system-status"],[1,"status-indicator"],[1,"app-content"],[1,"main-menu"],[1,"menu-button",3,"click"],[1,"menu-button","disabled"],[3,"chapterSelected","exitNavigation"],[3,"exitReader"],[3,"exitManagement"]],template:function(i,e){i&1&&(n(0,"div",0),u(1,Dt,1,0,"app-boot",1)(2,zt,1,0,"app-login",2)(3,Ft,40,4,"div",3)(4,Ut,1,0,"app-chapter-navigator",4)(5,Vt,1,0,"app-reader",5)(6,Wt,1,0,"app-worker-management",6),C(7,"app-artifact-frame"),o()),i&2&&(b("theme-active",e.currentTheme()),s(),g("ngIf",e.currentView()==="boot"),s(),g("ngIf",e.currentView()==="login"),s(),g("ngIf",e.currentView()==="app"),s(),g("ngIf",e.currentView()==="chapter-navigator"),s(),g("ngIf",e.currentView()==="reader"),s(),g("ngIf",e.currentView()==="worker-management"))},dependencies:[k,E,at,gt,dt,lt,mt,pt,X],styles:[".rustbone-terminal[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;background:var(--ui-background);color:var(--ui-text);overflow:hidden}.rustbone-terminal.theme-active[_ngcontent-%COMP%]{transition:all var(--theme-transition)}.main-app[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;background:var(--ui-background)}.app-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:linear-gradient(135deg,var(--ui-surface) 0%,var(--dark-metal) 100%);border-bottom:2px solid var(--ui-border);font-family:Courier New,Monaco,monospace;font-size:12px;letter-spacing:.5px;z-index:10}.worker-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.worker-id[_ngcontent-%COMP%]{color:var(--rust-orange);font-weight:700;text-transform:uppercase}.zone[_ngcontent-%COMP%]{color:var(--ui-text-secondary)}.system-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:var(--terminal-green)}.status-indicator[_ngcontent-%COMP%]{font-size:14px;animation:_ngcontent-%COMP%_status-pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_status-pulse{0%,to{opacity:1}50%{opacity:.6}}.app-content[_ngcontent-%COMP%]{flex:1;overflow:hidden;background:var(--ui-background)}.debug-controls[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px;display:flex;flex-direction:column;gap:8px;z-index:10000}.debug-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;background:#2f2f2fe6;border:1px solid var(--ui-border);border-radius:4px;color:var(--ui-text);font-family:Courier New,Monaco,monospace;font-size:11px;cursor:pointer;transition:all .2s ease}.debug-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--rust-orange);color:var(--dark-metal)}.main-menu[_ngcontent-%COMP%]{padding:40px;max-width:600px;margin:0 auto}.main-menu[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--terminal-green);font-family:Courier New,monospace;font-size:24px;margin-bottom:10px;text-align:center;letter-spacing:2px}.main-menu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:14px;margin:5px 0;text-align:center;color:var(--ui-text-dim)}.main-menu[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{display:block;width:100%;padding:20px;margin:20px 0;background:var(--ui-surface);border:2px solid var(--ui-border);color:var(--ui-text);font-family:Courier New,monospace;font-size:16px;cursor:pointer;transition:all .3s ease}.main-menu[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]:hover:not(.disabled){background:var(--terminal-green-dim);border-color:var(--terminal-green);box-shadow:0 0 10px var(--terminal-green-glow)}.main-menu[_ngcontent-%COMP%]   .menu-button.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.main-menu[_ngcontent-%COMP%]   .menu-button.disabled[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--rust-orange)}.main-menu[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.main-menu[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;font-size:12px;color:var(--ui-text-dim)}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]{padding:8px 12px;font-size:10px}.worker-info[_ngcontent-%COMP%]{gap:12px}.main-menu[_ngcontent-%COMP%]{padding:20px}.main-menu[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{padding:15px;font-size:14px}.debug-controls[_ngcontent-%COMP%]{top:5px;right:5px}.debug-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 8px;font-size:10px}}"]})}}return r})();export{De as a};
